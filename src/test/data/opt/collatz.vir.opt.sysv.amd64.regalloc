module foo

export function $foo { ; returns: rax
@2:
  xor eax, eax ; @58
@3:
  cmp edi, 0x1_w ; @51
  ja @6 ; @52
@7:
  ret ; @50
@6:
  test edi, 0x1_w ; @43
  je @10 ; @44
@11:
  lea edi, qword ptr [rdi + rdi*2 + 0x1] ; @33
  jmp @15 ; @42
@10:
  shr edi, 0x1_b ; @40
@15:
  inc eax ; @30
  jmp @3 ; @37
}
