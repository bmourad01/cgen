module spill2

export function $foo { ; returns: rax
@2:
  push r12 ; @102
  push r13 ; @103
  push r14 ; @104
  push r15 ; @105
  push rbx ; @106
  sub rsp, 0x10_l ; @107
  mov qword ptr [rsp + 0x8], rdi ; @98
  mov qword ptr [rsp], rsi ; @99
  mov r15, rdx ; @92
  mov r14, rcx ; @93
  mov r11d, r8d ; @94
  xor eax, eax ; @95
  xor r13d, r13d ; @96
@3:
  cmp r13d, r11d ; @85
  jl @6 ; @86
@7:
  add rsp, 0x10_l ; @108
  pop rbx ; @109
  pop r15 ; @110
  pop r14 ; @111
  pop r13 ; @112
  pop r12 ; @113
  ret ; @84
@6:
  mov ecx, r13d ; @41
  mov rdx, qword ptr [rsp + 0x8] ; @100
  mov esi, dword ptr [rdx + rcx*4] ; @16
  mov rdx, qword ptr [rsp] ; @101
  mov edi, dword ptr [rdx + rcx*4] ; @17
  mov r8d, dword ptr [r15 + rcx*4] ; @18
  mov r9d, dword ptr [r14 + rcx*4] ; @19
  mov r12d, eax ; @79
  xor eax, eax ; @80
@9:
  cmp eax, r11d ; @74
  jl @21 ; @75
@22:
  lea eax, qword ptr [rsi + rdi*1] ; @48
  lea ecx, qword ptr [r8 + r9*1] ; @49
  imul eax, ecx ; @73
  add eax, r12d ; @51
  inc r13d ; @52
  jmp @3 ; @72
@21:
  lea ecx, qword ptr [rsi + rax*1] ; @53
  lea edx, qword ptr [rdi + rax*1] ; @54
  lea ebx, qword ptr [r8 + rax*1] ; @55
  lea r10d, qword ptr [r9 + rax*1] ; @56
  imul ecx, edx ; @69
  mov edx, ebx ; @58
  imul edx, r10d ; @68
  add ecx, ebx ; @59
  add edx, r10d ; @60
  xor ecx, edx ; @67
  add r12d, ecx ; @62
  inc eax ; @63
  jmp @9 ; @66
}
