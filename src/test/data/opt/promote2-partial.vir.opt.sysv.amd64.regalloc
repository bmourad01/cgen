module foo

export function $foo { ; returns: rax
@2:
  mov eax, edi ; @28
@3:
  test esi, esi ; @23
  je @6 ; @24
@7:
  cdq ; @20
  idiv esi ; @21
  mov eax, esi ; @17
  mov esi, edx ; @18
  jmp @3 ; @19
@6:
  ret ; @16
}
