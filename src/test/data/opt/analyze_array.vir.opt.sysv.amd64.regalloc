module analyze_array

function $max { ; returns: rax
@2:
  cmp edi, esi ; @99
  cmovg esi, edi ; @100
  mov eax, esi ; @97
  ret ; @98
}

function $min { ; returns: rax
@6:
  cmp edi, esi ; @107
  cmovl esi, edi ; @108
  mov eax, esi ; @105
  ret ; @106
}

function $square { ; returns: rax
@10:
  imul edi, edi ; @116
  mov eax, edi ; @113
  ret ; @114
}

export function $analyze_array { ; returns: rax
@12:
  push rbp ; @187
  mov rbp, rsp ; @188
  sub rsp, 0x18_l ; @189
  push r12 ; @190
  push r13 ; @191
  push r14 ; @192
  push r15 ; @193
  push rbx ; @194
  mov r15, rdi ; @15
  mov dword ptr [rbp - 0xc], esi ; @181
  mov edi, dword ptr [r15] ; @148
  mov dword ptr [rbp - 0x10], 0x0_w ; @182
  mov ebx, edi ; @143
  xor r14d, r14d ; @145
@13:
  cmp r14d, dword ptr [rbp - 0xc] ; @137
  jl @18 ; @138
@19:
  sub edi, ebx ; @136
  call $square ; rdi ; @134
  add eax, dword ptr [rbp - 0x10] ; @71
  pop rbx ; @195
  pop r15 ; @196
  pop r14 ; @197
  pop r13 ; @198
  pop r12 ; @199
  leave ; @200
  ret ; @133
@18:
  mov eax, r14d ; @72
  mov r12d, dword ptr [r15 + rax*4] ; @24
  mov esi, r12d ; @128
  call $max ; rdi rsi ; @129
  mov r13d, eax ; @130
  mov edi, ebx ; @26
  mov esi, r12d ; @125
  call $min ; rdi rsi ; @126
  mov ebx, eax ; @127
  mov edi, r12d ; @27
  call $square ; rdi ; @123
  mov ecx, r13d ; @75
  sub ecx, ebx ; @122
  add eax, dword ptr [rbp - 0x10] ; @77
  add ecx, eax ; @78
  lea eax, qword ptr [r14 + 0x1] ; @79
  mov dword ptr [rbp - 0x10], ecx ; @186
  mov edi, r13d ; @119
  mov r14d, eax ; @120
  jmp @13 ; @121
}

export function $analyze_array_inl { ; returns: rax
@35:
  mov r8d, esi ; @179
  mov ecx, dword ptr [rdi] ; @180
  xor r9d, r9d ; @174
  mov esi, ecx ; @175
  xor r10d, r10d ; @177
@36:
  cmp r10d, r8d ; @169
  jl @41 ; @170
@42:
  sub ecx, esi ; @168
  imul ecx, ecx ; @167
  lea eax, qword ptr [r9 + rcx*1] ; @83
  ret ; @166
@41:
  mov edx, dword ptr [rdi + r10*4] ; @47
  mov eax, edx ; @88
  cmp ecx, edx ; @160
  cmovg eax, ecx ; @161
  mov ecx, edx ; @90
  cmp esi, edx ; @156
  cmovl ecx, esi ; @157
  imul edx, edx ; @155
  mov esi, eax ; @92
  sub esi, ecx ; @154
  add edx, r9d ; @94
  lea r9d, qword ptr [rdx + rsi*1] ; @95
  inc r10d ; @96
  mov esi, ecx ; @150
  mov ecx, eax ; @151
  jmp @36 ; @153
}
